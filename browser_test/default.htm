<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>TypeScript HTML App</title>
    <script type="text/javascript">


    </script>
</head>
<body>
    <h1>TypeScript HTML App</h1>

    <div id="content"></div>

    <script>
        function getObjectProp (obj, propName) {
            var prop = null;
            if (obj) {
                if (propName in obj) {
                    prop = obj[propName];
                } else if ('prototype' in obj) {
                    if (propName in obj.prototype) {
                        prop = obj.prototype[propName];
                    }
                } 
            }
            return prop;
        }


        function getPrototype() {
            if ('__proto__' in this) return this.__proto__
            if ('constructor' in this) return this.constructor.prototype
            return null
        }

        (function (Object){
            function getPrototypeOf() {
                if ('__proto__' in this) return this.__proto__
                if ('constructor' in this) return this.constructor.prototype
                return null
            }

            Object.prototype._getPrototypeOf = function () {
                if ('__proto__' in this) return this.__proto__
                if ('constructor' in this) return this.constructor.prototype
                return null
            };

            Object._getPrototypeOf = function (obj) {
                if (!obj) return null
                return obj._getPrototypeOf()
            };

            if (!Object.getPrototypeOf) {
                //Object.prototype.getPrototypeOf = new getPrototype
            }
        }(Object));
    </script>
    <script type="text/javascript">

        function createComment(comment) {
            var content = document.getElementById('content');
            var div = document.createElement('div');
            div.innerHTML = '<span>' + comment + '</span>';

            content.appendChild(div);
        }

        var obj = new Object();
        var obj2 = {};
        var arr = new Array();
        var arr2 = [];

        createComment('Object.getPrototypeOf: ' + Object.getPrototypeOf);
        createComment('Object._getPrototypeOf: ' + Object._getPrototypeOf);
        createComment('obj._getPrototypeOf: ' + obj._getPrototypeOf);
        createComment('obj._getPrototypeOf(): ' + obj._getPrototypeOf());
        createComment('Object._getPrototypeOf: ' + Object._getPrototypeOf);
        createComment('Object._getPrototypeOf(obj): ' + Object._getPrototypeOf(obj));

        if (getObjectProp(Object, 'isPrototypeOf')) {
            var isProtoObject = Object.isPrototypeOf(obj);

            createComment('obj.isPrototypeOf(Object): ' + isProtoObject);
            createComment('obj2.isPrototypeOf(Object): ' + Object.isPrototypeOf(obj2));
            createComment('arr.isPrototypeOf(Array): ' + Array.isPrototypeOf(arr));
            createComment('arr2.isPrototypeOf(Array): ' + Array.isPrototypeOf(arr2));
            createComment('__proto__ in Object: ' + ('__proto__' in Object));
            createComment('__proto__ in obj: ' + ('__proto__' in obj));
            createComment('obj.__proto__ == Object.prototype: ' + (obj.__proto__ == Object.prototype));
            createComment('Object.__proto__: ' + Object.__proto__);
            createComment('Object.prototype: ' + Object.prototype);
            createComment('obj.__proto__: ' + obj.__proto__);
            createComment('obj.prototype: ' + obj.prototype);
        }
        if ('constructor' in Object) {
            createComment('Object.constructor: ' + Object.constructor);
        }
        else {
            createComment('Object.constructor: --');
        }
        if ('constructor' in obj) {
            createComment('obj.constructor: ' + obj.constructor);
            if ('constructor' in obj.constructor) {
                createComment('obj.constructor.constructor: ' + obj.constructor.constructor);
            }
        }
        else {
            createComment('obj.constructor: --');
        }
        if (('constructor' in Object) && ('constructor' in obj)) {
            createComment('obj.constructor == Object.constructor: ' + (obj.constructor == Object.constructor));
            createComment('obj.constructor === Object.constructor: ' + (obj.constructor === Object.constructor));
            createComment('obj.constructor.constructor === Object.constructor: ' + (obj.constructor.constructor === Object.constructor));
        }

        if ('__proto__' in obj) {
            var proto1 = obj.__proto__;
            var proto2 = obj2.__proto__;
            var proto2 = arr.__proto__;
            var proto3 = arr2.__proto__;

            createComment('obj.__proto__: ' + isProtoObject);
            createComment('obj2.__proto__: ' + isProtoObject);
            createComment('arr.__proto__: ' + isProtoObject);
            createComment('arr2.__proto__: ' + isProtoObject);
        }

        var isPrototypeInObject = ('prototype' in Object);
        createComment('"prototype" in Object: ' + isPrototypeInObject);
        if (isPrototypeInObject) {
            createComment('Object.prototype: ' + Object.prototype);
        }

        createComment('----------------------------------------------');
        if (getPrototype(obj) == Object.prototype) {
            createComment('(getPrototype(obj) == Object.prototype): ' + (getPrototype(obj) == Object.prototype));
            createComment('(getPrototype(arr) == Object.prototype): ' + (getPrototype(arr) == Object.prototype));
            createComment('(getPrototype(arr) == Array.prototype): ' + (getPrototype(arr) == Array.prototype));
            createComment('(getPrototype(obj) == Array.prototype): ' + (getPrototype(obj) == Array.prototype));
        }

    </script>
</body>
</html>